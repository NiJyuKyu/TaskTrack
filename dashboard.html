<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskTrack</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.0/main.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                <div class="tasktrack">TaskTrack</div>
            </div>
            <ul class="nav">
                <li class="nav-item active" data-page="overview">
                    <i class="fas fa-list"></i>
                    Overview
                </li>
                <li class="nav-item" data-page="calendar">
                    <i class="fas fa-calendar-alt"></i>
                    Calendar
                </li>
                <li class="nav-item" data-page="activity">
                    <i class="fas fa-history"></i>
                    Activity/History
                </li>
                <li class="nav-item" data-page="tasks">
                    <i class="fas fa-tasks"></i>
                    Tasks
                </li>
                <li class="nav-item" data-page="notes">
                    <i class="fas fa-sticky-note"></i>
                    Notes
                </li>
            </ul>
            <div class="profile">
                <img src="" alt="Profile Picture" id="profile-pic" class="profile-pic">
                <div class="profile-info">
                    <span id="profile-name" class="profile-name"></span>
                    <div class="dropdown">
                        <button class="dropbtn">Profile Options</button>
                        <div class="dropdown-content">
                            <a href="#" id="edit-profile">Edit Profile</a>
                            <a href="#" id="settings">Settings</a>
                            <a href="#" id="logout">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="editProfileModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Edit Profile</h2>
                <form id="editProfileForm">
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="profilePicture">Profile Picture:</label>
                        <input type="file" id="profilePicture" name="profilePicture" accept="image/*">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">New Password:</label>
                        <input type="password" id="newPassword" name="newPassword">
                    </div>
                    <button type="submit" class="btn-save">Save Changes</button>
                </form>
            </div>
        </div>
        <div id="noteModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Add/Edit Note</h2>
                <div>
                    <label for="note-date">Date:</label>
                    <input type="text" id="note-date" readonly>
                </div>
                <div>
                    <label for="note-description">Description:</label>
                    <textarea id="note-description" rows="4"></textarea>
                </div>
                <button id="save-note-btn">Save</button>
            </div>
        </div>
        <div class="main-content">
            <div class="header">
                <div class="project-title">
                    <div class="project-name">Inventory System</div>
                    <div class="project-details">
                        <div class="project-status">Projects</div>
                        <div class="project-status">Team projects</div>
                        <div class="project-status">Incomplete</div>
                    </div>
                </div>
                <div class="options">
                    <i class="fas fa-ellipsis-h"></i>
                </div>
            </div>
            <div class="project-overview" id="overview-page">
                <div class="project-info">
                    <div class="project-header">
                        <div class="project-name">Cloth</div>
                        <div class="project-description">Small and Concise headline</div>
                    </div>
                    <div class="project-details">
                        <div class="detail-item">
                            <label>Created At</label>
                            <span>May, 15 2022 14:23 PM</span>
                        </div>
                        <div class="detail-item">
                            <label>Created</label>
                            <span>Mar 23, 10:34 PM</span>
                        </div>
                        <div class="detail-item">
                            <label>Deadline</label>
                            <span>Jun 02, 04:01PM</span>
                        </div>
                        <div class="detail-item">
                            <label>Tracked Time</label>
                            <span>10H 32M</span>
                        </div>
                    </div>
                    <div class="project-description">
                        TaskTrack is an intuitive task management system designed to help teams collaborate and manage their projects with ease. It offers powerful features such as task tracking, project organization, scheduling, and communication tools to keep teams organized and on top of their projects.
                    </div>
                </div>
                <div class="project-sidebar">
                    <div class="sidebar-item">
                        <label>Tags</label>
                        <div class="tag-list">
                            <span class="tag">Profitable</span>
                            <span class="tag">Ai</span>
                            <span class="tag">1 Person</span>
                        </div>
                    </div>
                    <div class="sidebar-item">
                        <label>Assign</label>
                        <span class="assignee">@mustafa</span>
                    </div>
                    <div class="sidebar-item">
                        <label>Group</label>
                        <div class="group-list">
                            <span class="group">Team projects</span>
                            <span class="group">Fashion</span>
                        </div>
                    </div>
                    <div class="sidebar-item">
                        <label>Priority</label>
                        <span class="priority">Small</span>
                    </div>
                </div>
            </div>
            <div class="project-calendar" id="calendar-page" style="display: none;">
                <div id="calendar"></div>
            </div>
            <div class="project-activity" id="activity-page" style="display: none;">
                <!-- Activity content -->
            </div>
            <div class="project-tasks" id="tasks-page" style="display: none;">
                <h2>Tasks</h2>
                <div class="task-list">
                    <!-- Task items will be dynamically added here -->
                </div>
                <button id="add-task-btn">Add Task</button>
            </div>
            <div class="project-notes" id="notes-page" style="display: none;">
                <h2>Notes</h2>
                <button id="open-note-modal">Add Note</button>
                <div id="notes-list">
                    <!-- Notes will be dynamically added here -->
                </div>
            </div>
            <div class="project-projects" id="projects-page" style="display: none;">
                <div class="projects-header">
                    <h2>Projects</h2>
                    <i class="fas fa-plus-circle"></i>
                </div>
                <ul class="projects-list">
                    <li class="project-item" data-project="flower-shop">
                        <div class="project-icon"><i class="fas fa-flower"></i></div>
                        <div class="project-name">Flower Shop</div>
                        <div class="project-progress">23</div>
                    </li>
                    <li class="project-item" data-project="cloth">
                        <div class="project-icon"><i class="fas fa-tshirt"></i></div>
                        <div class="project-name">Cloth</div>
                        <div class="project-progress">345</div>
                    </li>
                    <li class="project-item" data-project="gamer-boy">
                        <div class="project-icon"><i class="fas fa-gamepad"></i></div>
                        <div class="project-name">Gamer Boy</div>
                        <div class="project-progress">568</div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="sidebar right-sidebar">
            <div class="sidebar-header">
                <h2>To Do Lists</h2>
                <i class="fas fa-plus-circle"></i>
            </div>
            <ul class="sidebar-list">
                <li class="sidebar-item">
                    <input type="checkbox" checked>
                    <label>Donate $500 to the charity</label>
                    <span class="sidebar-date">May 20, 2020</span>
                    <span class="sidebar-tag">Donations</span>
                </li>
                <li class="sidebar-item">
                    <input type="checkbox">
                    <label>Do 500 pushups</label>
                    <span class="sidebar-date">May 20, 2020</span>
                    <span class="sidebar-tag">Sport</span>
                </li>
                <li class="sidebar-item">
                    <input type="checkbox" checked>
                    <label>Buy new headset</label>
                    <span class="sidebar-date">May 20, 2020</span>
                    <span class="sidebar-tag">Shopping</span>
                </li>
                <li class="sidebar-item">
                    <input type="checkbox">
                    <label>Clean the room</label>
                    <span class="sidebar-date">May 20, 2020</span>
                    <span class="sidebar-tag">Selfcare</span>
                </li>
            </ul>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.0/main.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set user profile
            const profileName = document.getElementById('profile-name');
            const profilePic = document.getElementById('profile-pic');
            profileName.textContent = 'John Doe'; // Replace with actual user name
            profilePic.src = 'path/to/profile-picture.jpg'; // Replace with actual profile picture path

            // Handle edit profile modal
            const editProfileLink = document.getElementById('edit-profile');
            const editProfileModal = document.getElementById('editProfileModal');
            const closeButton = editProfileModal.querySelector('.close');

            editProfileLink.addEventListener('click', function(e) {
                e.preventDefault();
                editProfileModal.style.display = 'block';
            });

            closeButton.addEventListener('click', function() {
                editProfileModal.style.display = 'none';
            });

            window.addEventListener('click', function(e) {
                if (e.target == editProfileModal) {
                    editProfileModal.style.display = 'none';
                }
            });

            // Handle navigation
            const navItems = document.querySelectorAll('.nav-item');
            const pages = document.querySelectorAll('[id$="-page"]');

            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-page') + '-page';
                    pages.forEach(page => {
                        page.style.display = page.id === pageId ? 'block' : 'none';
                    });
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Initialize calendar
            const calendarEl = document.getElementById('calendar');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                // Add more calendar options as needed
            });
            calendar.render();

            // Handle add task button
            const addTaskBtn = document.getElementById('add-task-btn');
            const taskList = document.querySelector('.task-list');

            addTaskBtn.addEventListener('click', function() {
                const taskItem = document.createElement('div');
                taskItem.className = 'task-item';
                taskItem.innerHTML = `
                    <input type="checkbox">
                    <span contenteditable="true">New Task</span>
                    <button class="delete-task">Delete</button>
                `;
                taskList.appendChild(taskItem);

                const deleteBtn = taskItem.querySelector('.delete-task');
                deleteBtn.addEventListener('click', function() {
                    taskList.removeChild(taskItem);
                });
            });

            // Handle edit profile form submission
            const editProfileForm = document.getElementById('editProfileForm');
            editProfileForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                // Here you would typically send this data to your server
                console.log('Form submitted with data:', Object.fromEntries(formData));
                editProfileModal.style.display = 'none';
            });

            // Handle notes
            const openNoteModalBtn = document.getElementById('open-note-modal');
            const noteModal = document.getElementById('noteModal');
            const closeNoteModalBtn = noteModal.querySelector('.close');
            const saveNoteBtn = document.getElementById('save-note-btn');
            const noteDateInput = document.getElementById('note-date');
            const noteDescriptionInput = document.getElementById('note-description');
            const notesList = document.getElementById('notes-list');

            let currentNoteId = null;

            openNoteModalBtn.addEventListener('click', function() {
                currentNoteId = null;
                noteDateInput.value = moment().format('MMM D, YYYY');
                noteDescriptionInput.value = '';
                noteModal.style.display = 'block';
            });

            closeNoteModalBtn.addEventListener('click', function() {
                noteModal.style.display = 'none';
            });

            saveNoteBtn.addEventListener('click', function() {
                const noteDate = noteDateInput.value;
                const noteDescription = noteDescriptionInput.value;

                if (currentNoteId) {
                    const noteItem = document.querySelector(`.note-item[data-id="${currentNoteId}"]`);
                    noteItem.querySelector('h3').textContent = noteDate;
                    noteItem.querySelector('p').textContent = noteDescription;
                } else {
                    const noteId = Date.now();
                    const noteItem = document.createElement('div');
                    noteItem.className = 'note-item';
                    noteItem.setAttribute('data-id', noteId);
                    noteItem.innerHTML = `
                        <h3>${noteDate}</h3>
                        <p>${noteDescription}</p>
                        <i class="fas fa-edit edit-note" data-id="${noteId}"></i>
                        <i class="fas fa-trash delete-note" data-id="${noteId}"></i>
                    `;
                    notesList.appendChild(noteItem);
                }

                noteModal.style.display = 'none';
            });

            notesList.addEventListener('click', function(e) {
                if (e.target.classList.contains('edit-note')) {
                    currentNoteId = e.target.getAttribute('data-id');
                    const noteItem = document.querySelector(`.note-item[data-id="${currentNoteId}"]`);
                    noteDateInput.value = noteItem.querySelector('h3').textContent;
                    noteDescriptionInput.value = noteItem.querySelector('p').textContent;
                    noteModal.style.display = 'block';
                }

                if (e.target.classList.contains('delete-note')) {
                    const noteId = e.target.getAttribute('data-id');
                    const noteItem = document.querySelector(`.note-item[data-id="${noteId}"]`);
                    notesList.removeChild(noteItem);
                }
            });
        });
    </script>
    <script src="dashboard.js"></script>
</body>
</html>
